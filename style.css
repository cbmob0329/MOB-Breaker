:root{
  --stage-w:420px;
  --stage-h:720px;
  --hud-bg:#0b0f17cc;
  --fg:#e9eef7;
  --grid-gap:10px;
}

html,body{
  height:100%; margin:0; padding:0; overflow:hidden;
  background:#0a0d13; color:var(--fg);
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;
  overscroll-behavior:none; -webkit-user-select:none; -webkit-touch-callout:none; user-select:none;
}
*{box-sizing:border-box}

#root{position:fixed; inset:0; display:flex; align-items:center; justify-content:center; padding:10px}
#phone{
  width:var(--stage-w); height:var(--stage-h); position:relative; overflow:hidden;
  background:#060910; border:1px solid #0f1726; border-radius:20px; box-shadow:0 12px 48px rgba(0,0,0,.55);
  touch-action:none; margin:0 auto;
}

.grid{position:absolute; inset:0; display:grid; grid-template-rows:1fr 220px; gap:var(--grid-gap); padding:var(--grid-gap)}
.gamewrap{position:relative; border-radius:14px; overflow:hidden; background:#05070c; outline:1px solid #0e1522}
canvas#game{display:block; width:100%; height:100%}

.controls{
  position:relative; border-radius:14px; background:var(--hud-bg); outline:1px solid #0e1522;
  backdrop-filter:blur(6px); padding:12px; display:grid; grid-template-columns:1fr 1fr; gap:12px;
}

/* === バーチャルパッド小型化 === */
.stickArea{
  position:relative; border-radius:12px; background:#0a121f; outline:1px solid #152033;
  display:grid; place-items:center; touch-action:none;
}
.stick{
  width:96px; height:96px;               /* 120px → 96px に縮小 */
  border-radius:50%;
  background:#0d1828; outline:2px solid #22324d; position:relative;
}
.stickThumb{
  width:52px; height:52px;               /* 64px → 52px に縮小 */
  border-radius:50%;
  position:absolute; left:50%; top:50%; transform:translate(-50%,-50%);
  background:#1a2a45; outline:2px solid #2e4a73; box-shadow:inset 0 0 0 4px #0c1422;
}

/* === ボタン：円形＆押しやすく（大きめ・間隔広め） === */
.buttons{
  display:grid;
  grid-template-columns:repeat(4,1fr);
  grid-template-rows:repeat(2,1fr);
  gap:16px;                            /* 12px → 16px（押しやすさアップ） */
  align-content:stretch; justify-items:stretch;
}
.btn{
  border:none;
  border-radius:50%;                   /* 全ボタン円形化 */
  background:#0d1828; outline:2px solid #22324d; color:var(--fg);
  font-size:22px; font-weight:700;
  display:grid; place-items:center; touch-action:none;
  box-shadow:inset 0 -4px 0 rgba(255,255,255,.04);
  transition:opacity .15s ease, transform .06s ease;
  min-height:78px;                     /* 64px → 78px（ヒットターゲット増）*/
  aspect-ratio:1/1;                    /* 真円維持 */
}
.btn:active{ transform:scale(.96) }
.btn[disabled]{ opacity:.35; pointer-events:none }

.btn.attack1{background:#112033} /* ■ */
.btn.attack2{background:#1a2436} /* ▲ */
.btn.skill1 {background:#132a22} /* ● */
.btn.skill2 {background:#1f2433} /* ◎ */
.btn.ult    {background:#2b2030} /* U */
.btn.ult2   {background:#352032} /* U2 */
.btn.jump   {background:#25202b} /* × */
.btn.pskill {background:#1b2a1f} /* P */
.btn.air    {background:#2a1b1f} /* A */

header.hud{
  position:absolute; left:0; right:0; top:0; padding:10px 14px;
  display:flex; gap:10px; align-items:center; z-index:10; pointer-events:none;
}
.chip{background:var(--hud-bg); outline:1px solid #0e1522; border-radius:12px; padding:6px 10px; font-weight:600; font-size:12px; display:flex; gap:8px; align-items:center}
.bar{--w:160px;--h:10px; width:var(--w); height:var(--h); border-radius:999px; outline:1px solid #1a263d; background:#0a1220; position:relative; overflow:hidden}
.bar>i{position:absolute; left:0; top:0; bottom:0; border-radius:999px; background:linear-gradient(90deg,#ff9a9e,#ff6b6b)}
.timer{margin-left:auto}
.name{margin-left:6px; opacity:.85}

/* 頭上ゲージ */
.overhead{position:absolute; left:50%; transform:translateX(-50%); display:none; gap:6px; align-items:center; pointer-events:none}
.gauge{width:96px; height:6px; border-radius:999px; outline:1px solid #1a263d; background:#0a1220; overflow:hidden}
.gauge>i{display:block; height:100%; width:0%; background:linear-gradient(90deg,#69d0ff,#a0ffe6)}

@media (max-height: 720px){
  :root{ --stage-h: 650px; }
}
